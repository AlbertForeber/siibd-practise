ФИО: Шаймухаметов Альберт
Группа: ИКБО-41-24

1. Общее описание:
Программа реализует имитацию терминала Linux с интерфейсом вида CLI со следующим функционалом:
- раскрытие переменных окружения реальной ОС
- команда exit
- виртуальная файловая система (VFS)
- команды для работы с VFS: ls, cd, pwd, mkdir
- команды cal, who
- поддержка стартовых скриптов

2. Описание всех функций и настроек
## commands.py
Содержит класс CommandHandler с одним полем vfs - хранит инстанцию класса виртуальной файловой системы.
Методы:
+ register - статичный метод-декоратор, позволяющий регистрировать новые команды, добавляя их в словарь команд
+ ls - реализация команды ls
+ pwd - реализация команды pwd, возвращает текущую директорию
+ print_pwd - непосредственно вывод результата команды pwd, вызывается по команде **pwd**
+ cd - реализация команды cd
+ who - реализация команды who
+ cal - реализация команды cal
+ mkdir - реализация команды mkdir
+ exit_program - реализация команды exit
+ command_executor - метод, отвечающий за исполнение команд и обработку исключений, возникающих в процессе их работы

## emulator.py
Содержит класс Emulator с тремя полями:
+ vfs - хранит инстанцию класса виртуальной файловой системы
+ commandHandler - хранит инстанцию класса обработчика команд (конструктор вызывается с переданным self.vfs)
+ params - хранит параметры, с которыми эмулятор был запущен
+ также `__init__` вызывает команду show_console_args, который выводит на экран параметры, с которыми эмулятор был запущен

Методы:
+ __init_vfs - считывает содержание XML файла с переданным названием, обрабатывает исключения
+ __get_input_call - возвращает строку интерфейса - UI
+ __script_executor - считывает скрипт и выполняет его, обрабатывает исключения
+ __emulate - отвечает за "обычную" работу эмулятора, принимает ввод очередной команды и передает ее дальше, обрабатывает ошибки
+ start_up - основной метод запуска эмулятора

## errors.py
Хранит классы ошибок:
+ VFSError - общая ошибка VFS
+ WrongFormatError - ошибка VFS, название файла VFS содержит неверный формат (не .xml)
+ VFSNotFoundError - ошибка VFS, файл с названием не найден
+ ParseError - ошибка VFS, ошибка парсинга XML
+ CommandError - общая ошибка обработки команд
+ WrongArguments - ошибка обработки команды, переданные команде аргументы неверны
+ DirectoryNotFound - ошибка обработки команды, директория переданная ls/cd/mkdir не найдена
+ UnknownCommand - ошибка обработки команды, неизвестная команда

## extra.py
Содержит необходимые константы:
+ INPUT, ERROR, DEBUG, EXTRA - шаблоны цветов для строк вывода
+ MONTHS - месяцы для cal
+ EMULATOR_START_TIME - время запуска эмулятора для who

## utils.py
Содержит утилиты используемые в программе
+ parser - парсер, разделяет входную строку на команду и аргументы, раскрывает переменные окружения реальной ОС
+ handle_console_args - создает правила для аргументов запуска эмулятора, отвечает за их обработку
+ show_console_args - выводит аргументы, переданные при запуске эмулятора
+ get_to_dir - используется для перемещения по VFS, обрабытывает всевозможные варианты перемещения (~, .., /, ./, /dir1/dir2)
+ decode_b64 - для расшифровки base64
+ encode_b64 - для шифрования в base64
+ print_one_month - формирует структуру вывода одного месяца для cal
+ default_print - формирует структуру вывода ls без параметра -l
+ long_print - формирует структуру вывода ls с параметром -l

## vfs.py
Содержит класс VFS с одним полем - текущая директория, по умолчанию - корневая.
Методы:
+ from_xml - переводит xml-файл в древовидную структуру из узлов внутри программы, обрабатывает ошибки
+ __build_node - отвечает за рекурсивное построение дерева (по узлу за рекурсию)

## vfs_node.py
Содержит датакласс одного узла VFS со следующими полями:
+ name - имя файла
+ filetype - тип файла
+ data - данные, хранимые внутри файла (в том числе директории ниже по иерархии)
+ permissions - права доступа

3. Описание команд для сборки проекта и запуска тестов
Скрипт script_demo.txt содержит проверку всех команд
Варианты для сборки
1) python emulator.py several_levels.xml --script ./scripts/script_demo.txt - в качестве VFS используется структура с несколькими уровнями иерархии (вложенные директории)
2) python emulator.py several_levels.xml - скрипт не используется, VFS та же
3) python emulator.py several_files.xml - в качестве VFS используется структура из нескольких файлов (два обычных, один бинарный)

4. Примеры использования
```
----------------------------------------
Received arguments:
+    vfs: several_levels.xml
+ script: ./scripts/starter.sh
----------------------------------------
albert@MacBook-Air-Albert.local/~% echo "Test #1 ---------------------------------"
echo: command not found
albert@MacBook-Air-Albert.local/~% python3 ../main.py ../vsf/several_files.xml --script script_demo.txt
python3: command not found
(.venv) albert@MacBook-Air-Albert ConfUpr1 % python emulator.py several_levels.xml --script ./scripts/script_demo.txt
----------------------------------------
Received arguments:
+    vfs: several_levels.xml
+ script: ./scripts/script_demo.txt
----------------------------------------
albert@MacBook-Air-Albert.local/~% cd dir1
albert@MacBook-Air-Albert.local/~% ls
dir2  
albert@MacBook-Air-Albert.local/~% cd
albert@MacBook-Air-Albert.local/~% cd dir2
cd: no such directory: dir2
albert@MacBook-Air-Albert.local/~% cd dir32534
cd: no such directory: dir32534
albert@MacBook-Air-Albert.local/~% pwd
/
albert@MacBook-Air-Albert.local/~% who
albert              /dev/ttys003        2025-10-04 13:35    
albert@MacBook-Air-Albert.local/~% cal
       Октябрь       
 пн вт ср чт пт сб вс
        1  2  3  4  5
  6  7  8  9 10 11 12
 13 14 15 16 17 18 19
 20 21 22 23 24 25 26
 27 28 29 30 31      
albert@MacBook-Air-Albert.local/~% cal 2025
       Январь        
 пн вт ср чт пт сб вс
        1  2  3  4  5
  6  7  8  9 10 11 12
 13 14 15 16 17 18 19
 20 21 22 23 24 25 26
 27 28 29 30 31      
       Февраль       
 пн вт ср чт пт сб вс
                 1  2
  3  4  5  6  7  8  9
 10 11 12 13 14 15 16
 17 18 19 20 21 22 23
 24 25 26 27 28      
        Март         
 пн вт ср чт пт сб вс
                 1  2
  3  4  5  6  7  8  9
 10 11 12 13 14 15 16
 17 18 19 20 21 22 23
 24 25 26 27 28 29 30
 31                  
       Апрель        
 пн вт ср чт пт сб вс
     1  2  3  4  5  6
  7  8  9 10 11 12 13
 14 15 16 17 18 19 20
 21 22 23 24 25 26 27
 28 29 30            
         Май         
 пн вт ср чт пт сб вс
           1  2  3  4
  5  6  7  8  9 10 11
 12 13 14 15 16 17 18
 19 20 21 22 23 24 25
 26 27 28 29 30 31   
        Июнь         
 пн вт ср чт пт сб вс
                    1
  2  3  4  5  6  7  8
  9 10 11 12 13 14 15
 16 17 18 19 20 21 22
 23 24 25 26 27 28 29
 30                  
        Июль         
 пн вт ср чт пт сб вс
     1  2  3  4  5  6
  7  8  9 10 11 12 13
 14 15 16 17 18 19 20
 21 22 23 24 25 26 27
 28 29 30 31         
       Август        
 пн вт ср чт пт сб вс
              1  2  3
  4  5  6  7  8  9 10
 11 12 13 14 15 16 17
 18 19 20 21 22 23 24
 25 26 27 28 29 30 31
      Сентябрь       
 пн вт ср чт пт сб вс
  1  2  3  4  5  6  7
  8  9 10 11 12 13 14
 15 16 17 18 19 20 21
 22 23 24 25 26 27 28
 29 30               
       Октябрь       
 пн вт ср чт пт сб вс
        1  2  3  4  5
  6  7  8  9 10 11 12
 13 14 15 16 17 18 19
 20 21 22 23 24 25 26
 27 28 29 30 31      
       Ноябрь        
 пн вт ср чт пт сб вс
                 1  2
  3  4  5  6  7  8  9
 10 11 12 13 14 15 16
 17 18 19 20 21 22 23
 24 25 26 27 28 29 30
       Декабрь       
 пн вт ср чт пт сб вс
  1  2  3  4  5  6  7
  8  9 10 11 12 13 14
 15 16 17 18 19 20 21
 22 23 24 25 26 27 28
 29 30 31            
albert@MacBook-Air-Albert.local/~% cal 2025 8
       Август        
 пн вт ср чт пт сб вс
              1  2  3
  4  5  6  7  8  9 10
 11 12 13 14 15 16 17
 18 19 20 21 22 23 24
 25 26 27 28 29 30 31
albert@MacBook-Air-Albert.local/~% cal 23452345 3252345
cal: wrong arguments: bad month number 3252345; must be 1-12
albert@MacBook-Air-Albert.local/~% cal 23452345 2345234 5234 52345
cal: wrong arguments: got 4 arguments when from 0 to 2 expected
albert@MacBook-Air-Albert.local/~% mkdir dir2
albert@MacBook-Air-Albert.local/~% exit

```
